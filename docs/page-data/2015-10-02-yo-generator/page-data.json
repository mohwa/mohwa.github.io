{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/2015-10-02-yo-generator/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Mohwa Blog"}},"markdownRemark":{"id":"d7765ed3-cbad-5556-b618-945069a1a76e","excerpt":"1. 문서 내용에 대해 이 문서에서는 Yeoman 을 통해 자신만의 app generator 모듈을 생성하는 방법에 대해 알아볼 것이다. Yeoman 은 공식 홈페이지를 통해, 이를 시작하기 위한 내용을 제공하고있다. WRITING YOUR OWN YEOMAN GENERATOR…","html":"<h2>1. 문서 내용에 대해</h2>\n<ul>\n<li>\n<p>이 문서에서는 <strong>Yeoman</strong> 을 통해 자신만의 <strong>app generator</strong> 모듈을 생성하는 방법에 대해 알아볼 것이다.</p>\n</li>\n<li>\n<p><strong>Yeoman</strong> 은 <a href=\"http://yeoman.io/\">공식 홈페이지</a>를 통해, 이를 시작하기 위한 내용을 제공하고있다.</p>\n<ul>\n<li><a href=\"http://yeoman.io/authoring/\">WRITING YOUR OWN YEOMAN GENERATOR</a></li>\n</ul>\n</li>\n<li>\n<p>이 문서의 내용은 <strong>MAC 환경</strong>을 기준으로 작성되어있다.</p>\n</li>\n</ul>\n<h2>2 app generator 개발 환경 구축</h2>\n<ul>\n<li>\n<p><a href=\"https://github.com/yeoman/generator-generator\">generator-generator</a> 모듈은 사용자가 자신만의 <strong>app generator</strong> 모듈을 개발할때, 그 기반 설계를 도와주는 <strong>Yeoman generator</strong> 모듈 중 하나이다.</p>\n<ul>\n<li>반드시 이 구조를 따라갈 필요는 없겠지만, <strong>generator-generator</strong> 모듈은 어차피 <u>기본 골격만 제공하므로,</u> 해당되는 부분에 대해서는 동일하게 따라가도 좋을 듯 하다.</li>\n</ul>\n</li>\n<li>\n<p><strong>generator-generator</strong> 모듈을 설치한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">sudo npm install <span class=\"token operator\">-</span>g generator<span class=\"token operator\">-</span>generator</code></pre></div>\n</li>\n<li>\n<p>설치된 <strong>generator-generator</strong> 모듈을 통해 생성할 <strong>app generator</strong> 모듈의 <u><strong>기반</strong>을 생성한다</u>.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"> yo generator</code></pre></div>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_1.jpg\" alt=\"\"></p>\n</li>\n<li>\n<p>생성할 <strong>app generator</strong> 모듈의 <strong>[base-name]</strong> 을 위와 같이 <strong>입력</strong> 후 설치를 완료하면, 입력한 <strong>[base-name]</strong> 을 기준으로 현재 위치에 <strong>app generator</strong> 모듈 폴더(<span style=\"color:#c11f1f\">./generator-cmtech</span>)가 생성된다.</p>\n<ul>\n<li>[base-name]: <span style=\"color:#c11f1f\">cmtech</span></li>\n</ul>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_2.jpg\" alt=\"\"></p>\n</li>\n<li>\n<p>생성된 <strong>app generator</strong> 모듈 폴더(<span style=\"color:#c11f1f\">./generator-cmtech</span>) <strong>이름</strong>은 아래와 같은 형식으로 <strong>생성</strong>되며, <strong>Yeoman</strong> 은 이후 <code>yo [base-name]</code> 명령 실행 시 이 <strong>[base-name]</strong> 이 기준이된 <strong>app generator</strong> 모듈 폴더를 File system 상에서 찾아 실행하게될것이다.</p>\n<ul>\n<li>\n<p>생성된 <strong>app generator</strong> 모듈 폴더 이름: generator-<span style=\"color:#c11f1f\">[base-name]</span></p>\n</li>\n<li>\n<p><strong>app generator</strong> 모듈 설치 명령: yo <span style=\"color:#c11f1f\">[base-name]</span></p>\n</li>\n</ul>\n</li>\n<li>\n<p>개발중인 <strong>app generator</strong> 모듈을 <strong>링크</strong>를 통해 설치한다.</p>\n<ul>\n<li>\n<p>정확히 말하면 <strong>사용자 시스템</strong>의 <strong>global node module</strong> 위치에, 개발중인 <strong>app generator</strong> 모듈(<span style=\"color:#c11f1f\">./generator-cmtech</span>) 폴더의 <strong>링크</strong>를 만들어, <u><strong>npm</strong> 모듈을 설치하는것과같은, 환경을 만들어주는것이다.</u></p>\n</li>\n<li>\n<p>먼저 <strong>global node module</strong>(<span style=\"color:#c11f1f\">/usr/local/lib/node_modules</span>) 위치로 이동하여, 생성된 <strong>app generator</strong> 모듈 폴더를 <strong>링크</strong> 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token comment\">// global node module 위치로 이동한다.</span>\n  cd <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>local<span class=\"token operator\">/</span>lib<span class=\"token operator\">/</span>node_modules\n\n  <span class=\"token comment\">// app generator 모듈 폴더를 심볼릭 링크한다.</span>\n  sudo ln <span class=\"token operator\">-</span>s <span class=\"token operator\">/</span>Users<span class=\"token operator\">/</span>sgjeon<span class=\"token operator\">/</span>htdocs<span class=\"token operator\">/</span>gitrepos<span class=\"token operator\">/</span>generator<span class=\"token operator\">-</span>cmtech generator<span class=\"token operator\">-</span>cmtech</code></pre></div>\n<p>그 다음 <strong>npm list</strong> 명령을 통해 <strong>app generator</strong> 모듈이 제대로 <strong>설치</strong>(<span style=\"color:#c11f1f\">링크</span>)되었는지 확인해본다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_4.jpg\" alt=\"\"></p>\n<p>확인되었다면, <code>yo [base-name]</code> 명령을 통해, <strong>app generator</strong> 모듈이 제대로 설치되는지 확인한다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_5.jpg\" alt=\"\"></p>\n</li>\n</ul>\n</li>\n</ul>\n<h2>3. app generator 개발 포인트</h2>\n<ul>\n<li>\n<p><strong>package.json</strong> 파일 설정</p>\n<ul>\n<li>\n<p>아래는 <strong>app generator 모듈</strong> 폴더안의 <strong>package.json</strong> 파일 내용이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"generator-cmtech\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"cmtech generator\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"MIT\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"app/index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mohwa/generator-cmtech\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mucha\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://github.com/mohwa\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"mocha\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"generators\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"yeoman-generator\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"yeoman-generator\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.19.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"chalk\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.0.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"yosay\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.0.2\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"mocha\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"*\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><strong>name</strong> property 는 반드시 <span style=\"color:#c11f1f\">generator-</span> 라는 <strong>접두사</strong>를 가져야한다.</p>\n<ul>\n<li>예: <span style=\"color:#c11f1f\">generator-</span>cmtech</li>\n</ul>\n</li>\n<li>\n<p><strong>Yeoman</strong> 에서 제공하는 <a href=\"http://yeoman.io/generators/\">generator-page</a> 에 listed 되기 위해서는 <strong>keywords</strong> property 와 <strong>description</strong> property 를 반드시 서술해야한다.</p>\n<ul>\n<li><strong>keywords</strong> property 에는 예제와 같이 ”<strong>yeoman-generator</strong>” 를 할당해준다.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Folder tree</strong></p>\n<ul>\n<li>\n<p><strong>Yeoman</strong> 은 아래와 같은 두 가지 <strong>폴더 구조</strong>를 제공하고있다.</p>\n</li>\n<li>\n<p><span style=\"color:#c11f1f\">./</span> 폴더 내부로 가용한 <strong>default generator</strong> 및 <strong>sub-generator</strong> 를 만들어내는 구조</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">├───<span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json\n├───app<span class=\"token operator\">/</span>\n│   └───index<span class=\"token punctuation\">.</span>js\n└───router<span class=\"token operator\">/</span>\n  └───index<span class=\"token punctuation\">.</span>js</code></pre></div>\n</li>\n<li>\n<p><span style=\"color:#c11f1f\">./generators</span> 폴더 내부로 가용한 <strong>default generator</strong> 및 <strong>sub-generator</strong> 를 만들어내는 구조(개인적으로 이 <strong>폴더 구조</strong>를 선호한다)</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">├───<span class=\"token keyword\">package</span><span class=\"token punctuation\">.</span>json\n└───generators<span class=\"token operator\">/</span>\n  ├───app<span class=\"token operator\">/</span>\n  │   └───index<span class=\"token punctuation\">.</span>js\n  └───router<span class=\"token operator\">/</span>\n    └───index<span class=\"token punctuation\">.</span>js</code></pre></div>\n</li>\n<li>\n<p><strong>default generator</strong> 및 <strong>sub-generator</strong> 호출 방법</p>\n<ul>\n<li>\n<p><strong>default generator</strong> 호출 방법</p>\n<ul>\n<li>\n<p><code>yo <span style=\"color:#c11f1f\">[base-name]</span></code> <strong>명령</strong>으로 실행하며, 이로인해 <strong>./generators/app/</strong> 디렉토리 안의 <span style=\"color:#c11f1f\">index.js</span> 파일이 호출된다.</p>\n</li>\n<li>\n<p>예: yo <span style=\"color:#c11f1f\">cmtech</span></p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>sub-generators</strong> 호출 방법</p>\n<ul>\n<li>\n<p><code>yo [base-name]:<span style=\"color:#c11f1f\">[sub-command]</span></code> <strong>명령</strong>으로 실행하며, 이로인해 <strong>./generators/[sub-command]/</strong> 디렉토리 안의 <span style=\"color:#c11f1f\">index.js</span> 파일이 호출된다.</p>\n</li>\n<li>\n<p>예: yo cmtech:<span style=\"color:#c11f1f\">router</span></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>base generator</strong> 확장하기</p>\n<ul>\n<li>\n<p><span style=\"color:#c11f1f\">yeoman-generator</span> <strong>모듈</strong>을 통해 <strong>base generator</strong> 를 생성할 수 있으며, 이것을 <strong>확장</strong>하여 자신만의 <strong>app generator</strong> 모듈 기능을 만들어낸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">\n<span class=\"token comment\">// app/index.js 내부</span>\n\n<span class=\"token comment\">// base generator 를 생성한다.</span>\n<span class=\"token keyword\">var</span> generators <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yeoman-generator'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// base generator 를 확장한다.</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function-variable function\">constructor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    generators<span class=\"token punctuation\">.</span><span class=\"token function\">Base</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This makes `appRootFolder` a required argument.</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">argument</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appRootDir'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"http://blog.naver.com/aron01/60006767632\">Overwriting</a>(기존 <strong>property</strong> 를 다시쓰는 행위) the constructor</p>\n<ul>\n<li>\n<p>특정 <strong>generator</strong> 메서드들은 <strong>constructor function</strong> 내부에서만 호출해야한다. 만약 그렇지 않을경우, 해당 <strong>기능</strong>이 완벽히 수행되지 않을 수 있다.</p>\n</li>\n<li>\n<p>예를들어, 사용자가 <strong>Command Line</strong> 을 통해 입력한 <strong>arguments</strong> 를 처리하는 <span style=\"color:#c11f1f\">this.argument</span> 메서드 <strong>호출</strong> 시, <u>해당 코드가 호출되는 <strong>위치</strong>에 따라 다른 <strong>결과</strong>를 반환되게된다.</u></p>\n</li>\n<li>\n<p>먼저 <strong>테스트</strong>위해 <code>yo cmtech —help</code> 명령을 실행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// cmtech generator 를 --help 옵션과 함께 실행한다.</span>\nyo cmtech <span class=\"token operator\">--</span>help</code></pre></div>\n</li>\n<li>\n<p>argument 메서드가 <strong>constructor function</strong> 내부에서 호출된 경우.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// base generator 를 확장한다.</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function-variable function\">constructor</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    generators<span class=\"token punctuation\">.</span><span class=\"token function\">Base</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> arguments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// This makes `appRootFolder` a required argument.</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">argument</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appRootDir'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Yeoman</strong> 이 <strong>arguments</strong> 에 대한 상세 <strong>도움말</strong>을 제공해준다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_6.jpg?1\" alt=\"\"></p>\n<p>argument 메서드가 <strong>constructor function</strong> 외부에서 호출된 경우.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// base generator 를 확장한다.</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token function-variable function\">initializing</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">argument</span><span class=\"token punctuation\">(</span><span class=\"token string\">'appRootDir'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> type<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span> required<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>arguments</strong> 에 대한 <strong>도움말</strong>이 제공되지 않는다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_7.jpg?1\" alt=\"\"></p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>GENERATOR RUNTIME CONTEXT</strong></p>\n<ul>\n<li>\n<p>The <strong>run loop</strong></p>\n<ul>\n<li>\n<p><strong>Yeoman</strong> 은 <strong>run loop</strong> 라는 <strong>queue system</strong> 을 가지며, 이것은 실행하려는 <u>메서드 <strong>그룹</strong></u>에 대한 <strong>우선 순위</strong>를 제공해준다.</p>\n<ul>\n<li>또한 <strong>run loop</strong> 다루기위해 <a href=\"https://github.com/SBoudrias/grouped-queue\">Grouped-queue</a> 라는 모듈을 사용하고있다.</li>\n</ul>\n</li>\n<li>\n<p>이 <strong>우선 순위</strong>는 <strong>Yeoman</strong> 이 제공하는 <u>특별한 프로토타입 <strong>메서드 이름</strong>(<span style=\"color:#c11f1f\">priority name</span>)</u>으로만 사용된다.</p>\n<ul>\n<li><strong>Yeoman</strong> 이 제공하는 <span style=\"color:#c11f1f\">priority name</span> 리스트는 아래와 같다.</li>\n</ul>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_11.jpg?1\" alt=\"\"></p>\n</li>\n<li>\n<p><span style=\"color:#c11f1f\">priority name</span> 일 경우.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yeoman <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yeoman-generator'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> chalk <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chalk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yosay <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yosay'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> yeoman<span class=\"token punctuation\">.</span>generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n  initializing<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">init</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call by init method 1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">end</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call by end method 2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>정의된 <strong>메서드</strong> 그룹이 전부 실행된다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_8.jpg?1\" alt=\"\"></p>\n</li>\n<li>\n<p><span style=\"color:#c11f1f\">priority name</span> 이 아닐경우.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yeoman <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yeoman-generator'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> chalk <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chalk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yosay <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yosay'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> yeoman<span class=\"token punctuation\">.</span>generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\n  custom_method<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">init</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call by init method 1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">end</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call by end method 2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>정의된 <strong>메서드</strong>가 실행되지 않는다.</p>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_9.jpg?1\" alt=\"\"></p>\n<p>또한 <span style=\"color:#c11f1f\">priority name</span> 이 아닐경우, 아래와 같이 <strong>Object</strong> 가 아닌 <strong>Function</strong> 타입으로 정의해야한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yeoman <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yeoman-generator'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> chalk <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'chalk'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> yosay <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'yosay'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> yeoman<span class=\"token punctuation\">.</span>generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">custom_method</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'call by custom_method method'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p><img src=\"http://mohwa.github.io/blog/assets/images/posts/20151002/yeoman_10.jpg?1\" alt=\"\"></p>\n<p><a href=\"http://yeoman.io/authoring/running-context.html\">http://yeoman.io/authoring/running-context.html</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Template</strong> 엔진 사용하기</p>\n<ul>\n<li>\n<p><strong>Yeoman</strong> 은 <a href=\"http://ejs.co/\">ejs template</a> 엔진을 사용하며, <a href=\"https://github.com/sboudrias/mem-fs-editor#copytplfrom-to-context-settings\">copyTpl</a> 메서드와 같은 템플릿 관련 메서드들을 제공하고 있다.</p>\n<ul>\n<li>\n<p><a href=\"http://yeoman.io/generator/actions_actions.html\">http://yeoman.io/generator/actions_actions.html</a></p>\n</li>\n<li>\n<p>아래 코드는 <strong>메서드</strong> 사용에 대한 간단한 <strong>예제</strong>이며, <strong>.html</strong> 파일외에, <strong>APP</strong> 을 구성하는 기반 파일인 <strong>_package.json</strong> 또는 <strong>_gruntfile.js</strong> 와 같은 파일에도 동일하게 적용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">generators<span class=\"token punctuation\">.</span>Base<span class=\"token punctuation\">.</span><span class=\"token function\">extend</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function-variable function\">writing</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">copyTpl</span><span class=\"token punctuation\">(</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">templatePath</span><span class=\"token punctuation\">(</span><span class=\"token string\">'index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">destinationPath</span><span class=\"token punctuation\">(</span><span class=\"token string\">'public/index.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span> title<span class=\"token operator\">:</span> <span class=\"token string\">'Templating with Yeoman'</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>template 엔진을 통해 아래와 같이 <strong>출력</strong>된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Templating with Yeoman<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre></div>\n</li>\n<li>\n<p>추가적으로 <strong>의존성</strong>을 관리하는 파일인 <strong>_bower.json</strong> 파일에 적용된 내용이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span><span class=\"token operator\">%</span> <span class=\"token keyword\">var</span> ngVer <span class=\"token operator\">=</span> <span class=\"token string\">\"1.2.26\"</span> <span class=\"token operator\">%</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= env.appName %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= env.appName %> package manager\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"homepage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://www.cmt-korea.com/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"sgjeon\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n  <span class=\"token string\">\"ignore\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"**/.*\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"node_modules\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"bower_components\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"devDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"angular\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-animate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-cookies\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-route\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-resource\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-sanitize\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"&lt;%= ngVer %>\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"requirejs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.1.14\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"jquery\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.1.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"malihu-custom-scrollbar-plugin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.0.8\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"jquery-ui\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.11.2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"json3\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.3.2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"linqjs\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"xml2json\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"purl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.3.1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"jquery-mousewheel\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3.0.6\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"socket.io-client\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1.3.5\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"console.image\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"enquire\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2.1.2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"angular-local-storage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.5\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"matchMedia\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.2.0\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"jquery.browser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.0.7\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>전역 <strong>configurations</strong> 파일 관리하기</p>\n<ul>\n<li>\n<p><strong>Yeoman</strong> 은 숨김 파일인 <strong>.yo-rc.json</strong> 파일을 통해 전역 <strong>configurations</strong> 을 관리할 수 있으며, 또 그것을 관리하기 위한 <a href=\"http://yeoman.io/generator/Storage.html\">Yeoman Storage API</a> 를 제공하고있다.</p>\n</li>\n<li>\n<p>아래는 기본적인 <strong>.yo-rc.json</strong> 파일 구조이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"generator-cmtech\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"key\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"value\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h2>4. 정리하며</h2>\n<ul>\n<li>\n<p>아래 URL 은 현재 개발중인 사이트(<strong>AngularJS</strong> 사용)의 <strong>app generator</strong> 초기 버전이며, <strong>설계</strong>시 참고할 수 있을 듯하여 공유드립니다.(현재는 테스트 버전입니다)</p>\n<ul>\n<li>\n<p><a href=\"https://github.com/mohwa/generator-cmtech\">generator-cmtech</a></p>\n</li>\n<li>\n<p><a href=\"http://yeoman.io/generator/\">Yeoman generator API documentation</a></p>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Yeoman-Generator","date":"October 16, 2015","description":"Yeoman Generator API 사용방법"}},"previous":{"fields":{"slug":"/2015-10-15-function-inJS/"},"frontmatter":{"title":"Function in JS"}},"next":{"fields":{"slug":"/2015-10-12-prototype/"},"frontmatter":{"title":"객체 지향 언어의 두 가지 줄기"}}},"pageContext":{"id":"d7765ed3-cbad-5556-b618-945069a1a76e","previousPostId":"277df169-a5cf-5357-8fc2-aee3097a940e","nextPostId":"aa2aec0c-61eb-5584-8a7f-10d7c25637a6"}},
    "staticQueryHashes": ["2841359383","3257411868"]}